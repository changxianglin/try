<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>index04</title>
  </head>
  <body>
<script type="text/javascript">
{
  function range (from, to) {
    var r = inherit(range.methods)
    r.from = from
    r.to = to
    return r
  }

  range.methods = {
    includes: function(x) {
      return this.from <= x && x <= this.to
    },
    foreach: function(f) {
      for(var x = Math.ceil(this.from); x <= this.to; x++) {
        f(x)
      }
    },
    toString: function() {
      return "(" + this.from  + "..." + this.to + ")"
    }
  }

  var r = range(1, 3)
  r.includes(2)
  r.foreach(console.log)
  console.log(r)
}
{
  function Set() {
    this.value = {}
    this.n = 0

    if(arguments.length == 1 && isArrayLike(arguments[0]))
    this.add.apply(this, arguments[0])
    else if(arguments.length > 0)
    this.add.apply(this, arguments)
  }
}
{
  function SetFromArray(a) {
    Set.apply(this, a)
  }
  SetFromArray.prototype = Set.prototype
  var s = new SetFromArray([1, 2, 3])
  s instanceof Set
}
</script>
  </body>
</html>
