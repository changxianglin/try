<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="author" content="Zhang Xianglin">
        <meta name="description" content="demo02 for event">
        <title>demo03</title>
        <style media="screen">
            p {
                background: gray;
                color: white;
                padding: 10px;
                margin: 5px;
                border: thin solid black;
            }
            span {
                background: white;
                color: black;
                padding: 2px;
                cursor: default;
            }
        </style>
    </head>
    <body>
        <p id = "block1">
            There are lots of different kinds of fruit-there are over
            500 sfjkd dks ksdjfklal l  ljklj iuewri klsjdfk cdk dlsfj
            jkldjui iuriw kdnk cd,jj djfks eiruio nmdncjd ierui cjdn
            <span id = "banana">Banana</span>
            cndjnj wrei link uer ji ler jiha cncei cet dur difdi
        </p>
        <script type="text/javascript">

            var banana = document.getElementById("banana")
            var textblock = document.getElementById("block1")

            banana.addEventListener("mouseover", handleMouseEvent)
            banana.addEventListener("mouseout", handleMouseEvent)
            textblock.addEventListener("mouseover", handleDescendantEvent, true)
            textblock.addEventListener("mouseout", handleDescendantEvent, true)
            textblock.addEventListener("mouseover", handleBubbleMouseEvent, false)
            textblock.addEventListener("mouseout", handleBubbleMouseEvent, false)

            function handleBubbleMouseEvent(e) {
                console.log("456")
                if (e.type == "mouseover" && e.eventPhase == Event.BUBBLING_PHASE) {
                    console.log("11")
                    e.target.style.textTransform = "uppercase"
                } else if (e.type == "mouseout" && e.eventPhase == Event.BUBBLING_PHASE) {
                    console.log("22")
                    e.target.style.textTransform = "none"
                }
            }

            function handleDescendantEvent(e) {
                console.log("123")
                if (e.type == "mouseover" && e.eventPhase == Event.CAPTURING_PHASE) {
                    e.target.style.border = "thick solid red"
                    e.currentTarget.style.border = "thick double black"
                } else if (e.type == "mouseout" && e.eventPhase == Event.CAPTURING_PHASE) {
                    e.target.style.removeProperty("border")
                    e.currentTarget.style.removeProperty("border")
                }
            }

            function handleMouseEvent(e) {
                if (e.type =="mouseover") {
                    e.target.style.background = "white"
                    e.target.style.color = "black"
                } else {
                    e.target.style.removeProperty('color')
                    e.target.style.removeProperty('background')
                }
            }
        </script>
    </body>
</html>
